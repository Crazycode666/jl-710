# 耳机虚拟环绕音

## 参数说明
### 声场渲染设置
- **Render Angle**：环境声声场渲染时的声场打开角度，范围：0~180°。
- **Crosstalk Mode**：串声模式开关，控制从立体声信号分离出来的左右环境声信号，经过声场渲染之后，是否将单侧虚拟环境声的声音传递到对侧耳。范围：0 左右声道无串声，1 有串声。（无串声模式下声场自然度会有所降低，通常不建议配置为0）
- **Input Gain**：渲染计算过程中，信号输入增益，单位dB。
- **Output Gain**：渲染计算过程中，信号输出增益， 单位dB。
### 环境声提取设置
- **Low Cut Frequency**：环境声提取计算过程中，选择进行提取计算的信号频段的低频截止频率。
- **High Cut Frequency**：环境声提取计算过程中，选择进行提取计算的信号频段的高频截止频率。
- **Mid Extract Ratio**：环境声提取计算过程中，分离声道计算的比例大小，范围：0~1。越大所分离出来的环境声部分越干净，建议直接取默认值1.00即可。
- **Run Mode**：环境声提取计算过程中，选择进行FFT计算时候的点数（0：帧长256点，1：帧长512点）。
### 人声延时设置
- **Delay**：人声（干声）路径的延时大小设置，单位ms。人声（干声）路径的声音需要通过延时处理之后再与完成声场渲染的环境声对齐叠加。

## 流程示例
该模块仅支持2声道输入4声道输出，将人声与环境声进行拆分渲染。如下图所示，红色框内为算法流程，如需自定义添加其他音效模块，建议在框外添加。
![](./assets/Vir_sur_hp.png)

## 声场渲染示意图
![](./assets/Vir_sur_hp_1.png)
![](./assets/Vir_sur_hp_2.png)
