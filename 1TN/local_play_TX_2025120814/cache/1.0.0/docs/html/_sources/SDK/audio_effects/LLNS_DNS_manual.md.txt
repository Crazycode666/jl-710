# LLNS_DNS

## 功能介绍
基于神经网络的低延时降噪

## 模块特征
- **采样率**
    - 32kHz、48kHz
- **位宽**
    - 32bit
- **通道**
  - 单通道

## 资源消耗
|Parameters|RAM(byte)|CODE(byte)|CPU(Hz)
|---|---|---|---|
|Fs=32kHz|62k|97k|115M|
|Fs=48kHz|75k|97k|180M|

## 参数介绍
详见节点界面内每个参数后的说明。<br>
若需要使用LLNS_DNS中的AGC模块，需要先在程序中使能：
```c
lib_media_config.h
const u8 LLNS_DNS_AGC_EN = 1; //可以默认置1，由节点的配置判断是否使能agc
```

## 注意事项
- LLNS_DNS需要输入特定长度的数据进行运算，帧长15ms。
  - 32k采样率：480点(1920byte)
  - 48k采样率：720点(2880byte)
  - 如果数据帧长与LLNS_DNS所需运算帧长不一致，会在LLNS_DNS内部进行拼拆包操作，**播放同步**节点需要配置更高的**同步延时**，同时引入更多缓存，带来更大延时。DAC节点延时需要大于等于播放同步延时。<br>
    例：32k采样率下建议将数据流源节点(IIS_RX、ADC等)**中断点数**配置为480，将LLNS_DNS串在**播放同步**节点之前（防止播放同步改变数据帧长），播放同步延时根据cpu运行情况酌情配置（以不打印uU，声音卡顿为准），建议25ms以上。
- 由于该模块仅支持32bit数据输入输出，在16bit数据流中，可在前后串convert、EQ等支持位宽转换的节点进行数据位宽转换。

## 使用示例
* 可将该模块串在麦克风音效等流程中。一般来说，使用了LLNS_DNS后，可以去掉流程中的NoiseGate模块。
